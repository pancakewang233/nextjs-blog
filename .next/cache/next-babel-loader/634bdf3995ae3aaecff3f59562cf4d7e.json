{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"D:\\\\Pank\\\\code\\\\Pack\\\\nextjs-blog\\\\pages\\\\index.tsx\";\n\nvar __jsx = React.createElement;\nimport React from 'react';\nimport Link from 'next/link';\n\nvar Index = function Index(props) {\n  var posts = props.posts;\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 5\n    }\n  }, __jsx(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }\n  }, \"\\u6587\\u7AE0\\u5217\\u8868\"), posts.map(function (post) {\n    return __jsx(Link, {\n      href: \"/posts/\".concat(post.id),\n      key: post.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 9\n      }\n    }, __jsx(\"a\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 11\n      }\n    }, post.title));\n  }));\n};\n\n_c = Index;\nexport var __N_SSP = true;\nexport default Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"sources":["D:/Pank/code/Pack/nextjs-blog/pages/index.tsx"],"names":["React","Link","Index","props","posts","map","post","id","title"],"mappings":";;;;AAEA,OAAOA,KAAP,MAAyC,OAAzC;AAGA,OAAOC,IAAP,MAAiB,WAAjB;;AAMA,IAAMC,KAAsB,GAAG,SAAzBA,KAAyB,CAACC,KAAD,EAAW;AACxC,MAAOC,KAAP,GAAgBD,KAAhB,CAAOC,KAAP;AACA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADF,EAEGA,KAAK,CAACC,GAAN,CAAU,UAAAC,IAAI;AAAA,WACb,MAAC,IAAD;AAAM,MAAA,IAAI,mBAAYA,IAAI,CAACC,EAAjB,CAAV;AAAiC,MAAA,GAAG,EAAED,IAAI,CAACC,EAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGD,IAAI,CAACE,KADR,CADF,CADa;AAAA,GAAd,CAFH,CADF;AAWD,CAbD;;KAAMN,K;;AAcN,eAAeA,KAAf","sourcesContent":["import {UAParser} from 'ua-parser-js';\nimport {GetServerSideProps, NextPage} from 'next';\nimport React, {useEffect, useState} from 'react';\nimport {getDatabaseConnection} from '../lib/getDatabaseConnection';\nimport {Post} from 'src/entity/Post';\nimport Link from 'next/link';\n\ntype Props = {\n  posts: Post[],\n}\n\nconst Index: NextPage<Props> = (props) => {\n  const {posts} = props;\n  return (\n    <div>\n      <h1>文章列表</h1>\n      {posts.map(post =>\n        <Link href={`/posts/${post.id}`} key={post.id}>\n          <a>\n            {post.title}\n          </a>\n        </Link>)}\n    </div>\n  );\n};\nexport default Index;\n\nexport const getServerSideProps: GetServerSideProps = async (context) => {\n  const connection = await getDatabaseConnection();\n  const posts = await connection.manager.find('Post');\n  const ua = context.req.headers['user-agent'];\n  const result = new UAParser(ua).getResult();\n  return {\n    props: {\n      browser: result.browser,\n      posts: JSON.parse(JSON.stringify(posts))\n    }\n  };\n};\n"]},"metadata":{},"sourceType":"module"}