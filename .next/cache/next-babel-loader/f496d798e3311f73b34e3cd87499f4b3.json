{"ast":null,"code":"var _jsxFileName = \"D:\\\\Pank\\\\code\\\\Pack\\\\nextjs-blog\\\\pages\\\\index.tsx\";\nvar __jsx = React.createElement;\nimport { UAParser } from 'ua-parser-js';\nimport React from 'react';\nimport { getDatabaseConnection } from '../lib/getDatabaseConnection';\n\nconst Index = props => {\n  const {\n    posts\n  } = props;\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 5\n    }\n  }, posts.map(post));\n};\n\nexport default Index;\nexport const getServerSideProps = async context => {\n  const connection = await getDatabaseConnection();\n  const posts = await connection.manager.find('Post');\n  const ua = context.req.headers['user-agent'];\n  const result = new UAParser(ua).getResult();\n  return {\n    props: {\n      browser: result.browser,\n      posts: JSON.parse(JSON.stringify(posts))\n    }\n  };\n};","map":{"version":3,"sources":["D:/Pank/code/Pack/nextjs-blog/pages/index.tsx"],"names":["UAParser","React","getDatabaseConnection","Index","props","posts","map","post","getServerSideProps","context","connection","manager","find","ua","req","headers","result","getResult","browser","JSON","parse","stringify"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,cAAzB;AAEA,OAAOC,KAAP,MAA2C,OAA3C;AACA,SAAQC,qBAAR,QAAoC,8BAApC;;AAOA,MAAMC,KAAqB,GAAIC,KAAD,IAAW;AACvC,QAAM;AAAEC,IAAAA;AAAF,MAAWD,KAAjB;AACA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGC,KAAK,CAACC,GAAN,CAAUC,IAAV,CADH,CADF;AAKD,CAPD;;AAQA,eAAeJ,KAAf;AAEA,OAAO,MAAMK,kBAAsC,GAAG,MAAOC,OAAP,IAAiB;AACrE,QAAMC,UAAU,GAAG,MAAMR,qBAAqB,EAA9C;AACA,QAAMG,KAAK,GAAG,MAAMK,UAAU,CAACC,OAAX,CAAmBC,IAAnB,CAAwB,MAAxB,CAApB;AACA,QAAMC,EAAE,GAAGJ,OAAO,CAACK,GAAR,CAAYC,OAAZ,CAAoB,YAApB,CAAX;AACA,QAAMC,MAAM,GAAG,IAAIhB,QAAJ,CAAaa,EAAb,EAAiBI,SAAjB,EAAf;AACA,SAAO;AACLb,IAAAA,KAAK,EAAE;AACLc,MAAAA,OAAO,EAAEF,MAAM,CAACE,OADX;AAELb,MAAAA,KAAK,EAAEc,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAehB,KAAf,CAAX;AAFF;AADF,GAAP;AAMD,CAXM","sourcesContent":["import { UAParser } from 'ua-parser-js';\nimport { GetServerSideProps, NextPage } from 'next';\nimport React, { useEffect, useState } from 'react';\nimport {getDatabaseConnection} from '../lib/getDatabaseConnection';\nimport { Post } from 'src/entity/Post';\n\ntype Props = {\n  posts: Post[],\n}\n\nconst Index:NextPage<Props> = (props) => {\n  const { posts} = props\n  return (\n    <div>\n      {posts.map(post)}\n    </div>\n  )\n}\nexport default Index;\n\nexport const getServerSideProps: GetServerSideProps = async (context)=>{\n  const connection = await getDatabaseConnection()\n  const posts = await connection.manager.find('Post')\n  const ua = context.req.headers['user-agent']\n  const result = new UAParser(ua).getResult()\n  return {\n    props: {\n      browser: result.browser,\n      posts: JSON.parse(JSON.stringify(posts))\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}