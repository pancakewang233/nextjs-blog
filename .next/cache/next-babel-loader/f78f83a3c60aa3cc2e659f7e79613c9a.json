{"ast":null,"code":"import { createConnection, getConnectionManager } from 'typeorm';\n\nconst promise = async function () {\n  const manager = getConnectionManager();\n  const hasDefaultConnection = manager.has('default');\n\n  if (!hasDefaultConnection) {\n    return createConnection();\n  }\n}();\n\nexport const getDatabaseConnection = async () => {\n  return promise;\n};","map":{"version":3,"sources":["D:/Pank/code/Pack/nextjs-blog/lib/getDatabaseConnection.tsx"],"names":["createConnection","getConnectionManager","promise","manager","hasDefaultConnection","has","getDatabaseConnection"],"mappings":"AAAA,SAAQA,gBAAR,EAA0BC,oBAA1B,QAAqD,SAArD;;AAEA,MAAMC,OAAO,GAAI,kBAAkB;AACjC,QAAMC,OAAO,GAAGF,oBAAoB,EAApC;AACA,QAAMG,oBAAoB,GAAGD,OAAO,CAACE,GAAR,CAAY,SAAZ,CAA7B;;AACA,MAAG,CAACD,oBAAJ,EAAyB;AACvB,WAAOJ,gBAAgB,EAAvB;AACD;AACF,CANe,EAAhB;;AAQA,OAAO,MAAMM,qBAAqB,GAAG,YAAY;AAC/C,SAAOJ,OAAP;AACD,CAFM","sourcesContent":["import {createConnection, getConnectionManager} from 'typeorm';\r\n\r\nconst promise = (async function () {\r\n  const manager = getConnectionManager()\r\n  const hasDefaultConnection = manager.has('default')\r\n  if(!hasDefaultConnection){\r\n    return createConnection();\r\n  }\r\n})();\r\n\r\nexport const getDatabaseConnection = async () => {\r\n  return promise;\r\n};\r\n\r\n"]},"metadata":{},"sourceType":"module"}